// Simple but effective AI assistant for resume-based questions
export const resumeData = {
  personal: {
    name: "Rohit Rai",
    title: "Software Engineer & Full-Stack Developer",
    location: "Chennai",
    status: "Open to opportunities",
    education: "B.E in Computer Science & Engineering (2022-2026 Expected)",
    email: "rohitrai.26csb@licet.ac.in",
    github: "rohitrai1141",
    linkedin: "rohitrai-a-29183b335",
    twitter: "@rohitrai",
    portfolio: "rohitrai"
  },

  skills: {
    languages: ["JavaScript", "TypeScript", "Python", "Java", "C++", "HTML5", "CSS3"],
    frontend: ["React.js", "Next.js", "Vue.js", "Tailwind CSS"],
    backend: ["Node.js", "Express.js", "FastAPI", "Spring Boot"],
    databases: ["MongoDB", "PostgreSQL", "MySQL", "Redis"],
    tools: ["Git", "Docker", "Kubernetes", "AWS", "Linux", "VS Code", "Vim"],
    focus: "DevOps"
  },

  experience: [
    {
      "company": "Infosys Springboard",
      "position": "Angular Full-Stack Developer Intern",
      "duration": "Dec 2024 - Feb 2025",
      "description": "Developed full-stack booking platform (cab, tour, flight, hotel) with Angular frontend and JSON server backend. Served dual role as Scrum Master and Product Owner, leading 5-person team through sprint planning and development cycles. Managed requirements gathering, project execution, and ensured seamless integration of all booking services.",
      "technologies": ["Angular", "TypeScript", "Bootstrap", "JSON Server", "Node.js", "Git"],
      "achievements": [
        "Led a 5-member team as Scrum Master and Product Owner",
        "Built a unified booking platform covering multiple services",
        "Ensured seamless integration and delivery of all modules",
        "Successfully delivered project within 6-week sprint deadlines",
        "Enhanced team productivity by 30% through Agile best practices"
      ]
    },
    {
      "company": "CampusVault",
      "position": "Project",
      "duration": "Jun 2025",
      "description": "Built a role-based academic library with admin and viewer dashboards using Supabase Auth and RLS. Enabled secure file upload, real-time management, and categorization by semester, subject, and unit. Designed responsive UI with Tailwind CSS, shadcn/ui, and Lucide icons.",
      "technologies": ["Next.js 13", "Supabase", "TypeScript", "Tailwind CSS"],
      "achievements": [
        "Implemented role-based access using Supabase RLS",
        "Created intuitive dashboard with modern UI components",
        "Enabled real-time file categorization and upload",
        "Secured file storage with Supabase Auth and policies",
        "Improved academic resource discovery for 100+ users"
      ]
    },
    {
      "company": "Classroom Booking System",
      "position": "Project",
      "duration": "May 2024 – Nov 2024",
      "description": "Developed a real-time web-based classroom reservation system achieving 95% scheduling accuracy, allowing faculty and students to efficiently manage room bookings. Enabled role-based access control and integrated email notifications for booking confirmations and reminders.",
      "technologies": ["React", "JavaScript", "HTML", "CSS", "Firebase/MySQL", "GitHub"],
      "achievements": [
        "Achieved 95% room scheduling accuracy",
        "Integrated role-based access and email alerts",
        "Streamlined booking system for faculties and students",
        "Handled real-time data sync across multiple users",
        "Deployed on Firebase with 99.9% uptime"
      ]
    },
    {
      "company": "Voice-Controlled Game",
      "position": "Project",
      "duration": "Sep 2024",
      "description": "Created browser game with 90% voice recognition accuracy. Integrated Web Speech API for voice-based controls.",
      "technologies": ["React.js", "JavaScript", "HTML", "CSS", "Web Speech API", "GitHub"],
      "achievements": [
        "Achieved 90% voice command accuracy",
        "Enabled seamless game interaction via speech",
        "Used browser-native Web Speech API",
        "Enhanced accessibility through hands-free interaction",
        "Optimized game logic for smooth browser performance"
      ]
    },
    {
      "company": "Waste Management App",
      "position": "Project",
      "duration": "Jan 2025 – Apr 2025",
      "description": "Built a mobile application for waste classification that identifies and categorizes waste images with 90% accuracy using an integrated image recognition model. Designed a user-friendly interface and implemented RESTful APIs to provide localized recycling guidelines and disposal tips.",
      "technologies": ["React", "Next.js", "Spring Boot", "JavaScript", "Java", "REST APIs", "GitHub"],
      "achievements": [
        "Built image recognition feature with 90% accuracy",
        "Implemented REST APIs for localized recycling tips",
        "Developed mobile-friendly UI for wide usability",
        "Reduced user confusion in waste disposal by 50%",
        "Integrated Spring Boot backend with scalable endpoints"
      ]
    }
  ],

  "projects": [
    {
      "company": "Infosys Springboard",
      "position": "Angular Full-Stack Developer Intern",
      "duration": "Dec 2024 - Feb 2025",
      "description": "Developed full-stack booking platform (cab, tour, flight, hotel) with Angular frontend and JSON server backend. Served dual role as Scrum Master and Product Owner, leading 5-person team through sprint planning and development cycles. Managed requirements gathering, project execution, and ensured seamless integration of all booking services.",
      "technologies": ["Angular", "TypeScript", "Bootstrap", "JSON Server", "Node.js", "Git"],
      "achievements": [
        "Led a 5-member team as Scrum Master and Product Owner",
        "Built a unified booking platform covering multiple services",
        "Ensured seamless integration and delivery of all modules",
        "Successfully delivered project within 6-week sprint deadlines",
        "Enhanced team productivity by 30% through Agile best practices"
      ]
    },
    {
      "company": "CampusVault",
      "position": "Project",
      "duration": "Jun 2025",
      "description": "Built a role-based academic library with admin and viewer dashboards using Supabase Auth and RLS. Enabled secure file upload, real-time management, and categorization by semester, subject, and unit. Designed responsive UI with Tailwind CSS, shadcn/ui, and Lucide icons.",
      "technologies": ["Next.js 13", "Supabase", "TypeScript", "Tailwind CSS"],
      "achievements": [
        "Implemented role-based access using Supabase RLS",
        "Created intuitive dashboard with modern UI components",
        "Enabled real-time file categorization and upload",
        "Secured file storage with Supabase Auth and policies",
        "Improved academic resource discovery for 100+ users"
      ]
    },
    {
      "company": "Classroom Booking System",
      "position": "Project",
      "duration": "May 2024 – Nov 2024",
      "description": "Developed a real-time web-based classroom reservation system achieving 95% scheduling accuracy, allowing faculty and students to efficiently manage room bookings. Enabled role-based access control and integrated email notifications for booking confirmations and reminders.",
      "technologies": ["React", "JavaScript", "HTML", "CSS", "Firebase/MySQL", "GitHub"],
      "achievements": [
        "Achieved 95% room scheduling accuracy",
        "Integrated role-based access and email alerts",
        "Streamlined booking system for faculties and students",
        "Handled real-time data sync across multiple users",
        "Deployed on Firebase with 99.9% uptime"
      ]
    },
    {
      "company": "Voice-Controlled Game",
      "position": "Project",
      "duration": "Sep 2024",
      "description": "Created browser game with 90% voice recognition accuracy. Integrated Web Speech API for voice-based controls.",
      "technologies": ["React.js", "JavaScript", "HTML", "CSS", "Web Speech API", "GitHub"],
      "achievements": [
        "Achieved 90% voice command accuracy",
        "Enabled seamless game interaction via speech",
        "Used browser-native Web Speech API",
        "Enhanced accessibility through hands-free interaction",
        "Optimized game logic for smooth browser performance"
      ]
    },
    {
      "company": "Waste Management App",
      "position": "Project",
      "duration": "Jan 2025 – Apr 2025",
      "description": "Built a mobile application for waste classification that identifies and categorizes waste images with 90% accuracy using an integrated image recognition model. Designed a user-friendly interface and implemented RESTful APIs to provide localized recycling guidelines and disposal tips.",
      "technologies": ["React", "Next.js", "Spring Boot", "JavaScript", "Java", "REST APIs", "GitHub"],
      "achievements": [
        "Built image recognition feature with 90% accuracy",
        "Implemented REST APIs for localized recycling tips",
        "Developed mobile-friendly UI for wide usability",
        "Reduced user confusion in waste disposal by 50%",
        "Integrated Spring Boot backend with scalable endpoints"
      ]
    },
    {
      "name": "E-Commerce Platform",
      "description": "A full-stack e-commerce solution with user authentication, product catalog, shopping cart, and payment integration.",
      "technologies": ["Next.js", "Node.js", "MongoDB", "Stripe API", "Tailwind CSS"],
      "features": ["User authentication", "Product management", "Shopping cart", "Payment processing", "Admin dashboard"],
      "link": "https://github.com/rohitrai",
      "status": "Completed",
      "type": "Full-Stack Web App"
    },
    {
      "name": "Task Management System",
      "description": "A collaborative project management tool with real-time updates, team collaboration features, and progress tracking.",
      "technologies": ["React", "Express.js", "Socket.io", "PostgreSQL", "JWT"],
      "features": ["Real-time collaboration", "Task assignment", "Progress tracking", "Team management", "Notifications"],
      "link": "https://github.com/rohitrai",
      "status": "In Development",
      "type": "Web Application"
    },
    {
      "name": "Weather Dashboard",
      "description": "A responsive weather application with location-based forecasts, interactive maps, and detailed weather analytics.",
      "technologies": ["React", "OpenWeather API", "Chart.js", "CSS3", "Geolocation API"],
      "features": ["Current weather", "7-day forecast", "Interactive maps", "Weather charts", "Location search"],
      "link": "https://github.com/rohitrai",
      "status": "Live",
      "type": "Frontend App"
    },
    {
      "name": "Terminal Portfolio",
      "description": "An interactive terminal-style portfolio showcasing my skills and projects in a unique, developer-friendly interface.",
      "technologies": ["Next.js", "TypeScript", "Tailwind CSS", "Canvas API", "React Hooks"],
      "features": ["Interactive terminal", "Command system", "Matrix animation", "Responsive design", "System stats"],
      "link": "https://github.com/rohitrai",
      "status": "Live",
      "type": "Portfolio Website"
    },
    {
      "name": "Chat Application",
      "description": "Real-time messaging application with group chats, file sharing, and emoji support.",
      "technologies": ["Node.js", "Socket.io", "React", "MongoDB", "Express.js"],
      "features": ["Real-time messaging", "Group chats", "File sharing", "User presence", "Message history"],
      "link": "https://github.com/rohitrai",
      "status": "Completed",
      "type": "Real-time App"
    },
    {
      "name": "Portfolio Website",
      "description": "A modern portfolio website showcasing personal projects, resume, and skills, designed for responsiveness and performance.",
      "technologies": ["React", "Tailwind CSS"],
      "features": ["Project showcase", "Downloadable resume", "Responsive design", "Contact form", "Themed UI"],
      "link": "https://github.com/rohitrai",
      "status": "Live",
      "type": "Portfolio Website"
    },
    {
      "name": "Smart AC Automation",
      "description": "An IoT-based system to automate AC control using ESP8266 and AI-based human detection integrated with temperature monitoring.",
      "technologies": ["ESP8266", "Python", "OpenCV", "DHT11", "C++"],
      "features": ["Human detection", "Temperature-based control", "Automatic AC on/off", "IoT integration", "Energy optimization"],
      "link": "https://github.com/rohitrai",
      "status": "Prototype",
      "type": "IoT + AI Project"
    },
    {
      "name": "Traffic Accident Predictor",
      "description": "A predictive web application to analyze accident patterns based on location and time using interactive data visualization.",
      "technologies": ["React", "TypeScript", "Chart.js", "Google Maps API"],
      "features": ["Accident prediction", "Map visualization", "Search by location", "Responsive design", "Data analytics"],
      "link": "https://github.com/rohitrai",
      "status": "Completed",
      "type": "Frontend Web App"
    },
    {
      "name": "Chat Box",
      "description": "A web-based real-time chat box enabling direct user communication using sockets with Node.js backend and React frontend.",
      "technologies": ["React", "Node.js", "Socket.io", "Express.js"],
      "features": ["Private messaging", "Live chat updates", "Typing indicator", "User status", "Socket communication"],
      "link": "https://github.com/rohitrai",
      "status": "In Development",
      "type": "Real-time App"
    },
    {
      "name": "Attendance Tracker",
      "description": "A mobile application for tracking student attendance with teacher authentication and automatic percentage calculation.",
      "technologies": ["React Native", "Firebase", "Expo"],
      "features": ["Student list", "Mark attendance", "Login system", "Real-time sync", "Auto percentage calc"],
      "link": "https://github.com/rohitrai",
      "status": "In Progress",
      "type": "Mobile App"
    }
  ]
};

// Pattern matching for intelligent responses
const patterns = {
  // Personal info patterns
  name: /\b(name|who|called)\b/i,
  location: /\b(location|where|based|live)\b/i,
  contact: /\b(contact|email|reach|phone|linkedin|github|twitter)\b/i,
  education: /\b(education|degree|university|college|study|studied)\b/i,

  // Skills patterns
  skills: /\b(skills|technologies|tech|programming|languages|frameworks)\b/i,
  frontend: /\b(frontend|front-end|react|vue|css|html|ui|interface)\b/i,
  backend: /\b(backend|back-end|server|node|express|api|database)\b/i,
  languages: /\b(programming languages|languages|javascript|python|java|typescript)\b/i,

  // Experience patterns
  experience: /\b(experience|work|job|employment|career|worked)\b/i,
  projects: /\b(projects|built|created|developed|portfolio|work)\b/i,

  // Specific technology patterns
  react: /\breact\b/i,
  nodejs: /\b(node|nodejs|node\.js)\b/i,
  python: /\bpython\b/i,
  javascript: /\b(javascript|js)\b/i,
  typescript: /\b(typescript|ts)\b/i,
  mongodb: /\bmongodb\b/i,
  aws: /\baws\b/i,

  // General patterns
  about: /\b(about|tell me|describe|who is)\b/i,
  help: /\b(help|what can|commands)\b/i
};

export function askAI(question: string): Promise<string> {
  return new Promise((resolve) => {
    setTimeout(() => {
      const answer = generateAnswer(question.toLowerCase());
      resolve(answer);
    }, 500 + Math.random() * 1000); // Simulate thinking time
  });
}

function generateAnswer(question: string): string {
  // Personal information
  if (patterns.name.test(question)) {
    return `My name is ${resumeData.personal.name}. I'm a ${resumeData.personal.title} based in ${resumeData.personal.location}.`;
  }

  if (patterns.location.test(question)) {
    return `I'm currently based in ${resumeData.personal.location}. I'm ${resumeData.personal.status.toLowerCase()} and available for remote work worldwide.`;
  }

  if (patterns.contact.test(question)) {
    return `You can reach me through:\n• Email: ${resumeData.personal.email}\n• GitHub: ${resumeData.personal.github}\n• LinkedIn: ${resumeData.personal.linkedin}\n• Twitter: ${resumeData.personal.twitter}\n• Portfolio: ${resumeData.personal.portfolio}`;
  }

  if (patterns.education.test(question)) {
    return `I'm currently pursuing a ${resumeData.personal.education}. My coursework includes Data Structures, Algorithms, Database Management, Software Engineering, Computer Networks, and Operating Systems.`;
  }

  // Skills and technologies
  if (patterns.skills.test(question) || patterns.about.test(question)) {
    return `I'm skilled in multiple technologies:\n\n• Programming Languages: ${resumeData.skills.languages.join(', ')}\n• Frontend: ${resumeData.skills.frontend.join(', ')}\n• Backend: ${resumeData.skills.backend.join(', ')}\n• Databases: ${resumeData.skills.databases.join(', ')}\n• Tools: ${resumeData.skills.tools.join(', ')}\n\nI'm currently focusing on ${resumeData.skills.focus}.`;
  }

  if (patterns.frontend.test(question)) {
    return `For frontend development, I use ${resumeData.skills.frontend.join(', ')}. I specialize in building responsive, user-friendly interfaces with modern frameworks like React.js and Next.js, styled with Tailwind CSS.`;
  }

  if (patterns.backend.test(question)) {
    return `My backend expertise includes ${resumeData.skills.backend.join(', ')}. I build scalable APIs and server-side applications, with experience in ${resumeData.skills.databases.join(', ')} for data management.`;
  }

  if (patterns.languages.test(question)) {
    return `I'm proficient in ${resumeData.skills.languages.join(', ')}. My strongest languages are JavaScript/TypeScript for web development, Python for scripting and data work, and Java for enterprise applications.`;
  }

  // Specific technologies
  if (patterns.react.test(question)) {
    return `Yes, I'm very experienced with React! I use React.js and Next.js for building modern web applications. You can see this in projects like my E-Commerce Platform, Task Management System, and this Terminal Portfolio.`;
  }

  if (patterns.nodejs.test(question)) {
    return `I have extensive experience with Node.js for backend development. I use it with Express.js to build APIs and server-side applications. It's featured in several of my projects including the E-Commerce Platform and Chat Application.`;
  }

  if (patterns.python.test(question)) {
    return `I use Python for various purposes including scripting, automation, and backend development with FastAPI. It's one of my core programming languages alongside JavaScript/TypeScript.`;
  }

  // Experience and projects
  if (patterns.experience.test(question)) {
    const exp = resumeData.experience[0]; // Latest experience
    return `I'm currently working as a ${exp.role} (${exp.duration}), where I ${exp.description.toLowerCase()} Key achievements include: ${exp.achievements.join(', ')}.`;
  }

  if (patterns.projects.test(question)) {
    const projectList = resumeData.projects.map(p =>
      `• ${p.name}: ${p.description} (${p.status})`
    ).join('\n');
    return `I've built several notable projects:\n\n${projectList}\n\nEach project showcases different aspects of full-stack development and modern web technologies.`;
  }

  // Help and general
  if (patterns.help.test(question)) {
    return `I can answer questions about:\n• My background and experience\n• Technical skills and technologies\n• Projects I've built\n• Education and career\n• Contact information\n• Specific technologies like React, Node.js, Python, etc.\n\nJust ask me anything about my professional background!`;
  }

  // Default responses for unmatched patterns
  const defaultResponses = [
    "I'd be happy to help! Could you ask me something more specific about my background, skills, experience, or projects?",
    "That's an interesting question! Try asking me about my technical skills, work experience, or the projects I've built.",
    "I can tell you about my programming experience, the technologies I use, or the projects I've worked on. What would you like to know?",
    "Feel free to ask me about my background as a full-stack developer, my technical skills, or any specific technologies you're curious about!",
    "I'm here to answer questions about my professional background. Try asking about my experience with React, Node.js, Python, or any of my projects!"
  ];

  return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
}
